(this["webpackJsonpmovie-web"]=this["webpackJsonpmovie-web"]||[]).push([[0],{21:function(e,t,c){},22:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(15),a=c.n(n),r=(c(21),c(22),c(8)),i=c(16),o=c(5),l=c.n(o),u=c(7),j=c(3),h=(c(35),c(36),c(1)),b=function(e){var t=e.data,c=Math.ceil(t.totalResults/10),n=Object(s.useState)(1),a=Object(j.a)(n,2),r=a[0],i=a[1],o=Object(s.useState)(""),b=Object(j.a)(o,2),d=b[0],O=b[1],m=Object(s.useState)([]),p=Object(j.a)(m,2),f=p[0],v=p[1],x=Object(s.useState)(!1),N=Object(j.a)(x,2),g=N[0],R=N[1],w=function(e){O(e),function(){S.apply(this,arguments)}()};function S(){return(S=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://www.omdbapi.com/?t=".concat(d,"&apikey=").concat("8953f6ce"),e.next=3,fetch(t).then((function(e){return e.json()})).then((function(e){return v(e),R(!0),e})).catch((function(e){return console.error("Error: ",e),Promise.reject(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:"resultSection",children:["False"===t.Response||0===t.totalResults?Object(h.jsx)("span",{className:"searchResultVal",children:"No movies found -- try another search!"}):Object(h.jsxs)("div",{className:"movieResults",children:[Object(h.jsxs)("span",{className:"searchResultVal",children:["Total results: ",t.totalResults]}),Object(h.jsx)("div",{className:"searchList",children:t.Search.map((function(e,t){e.Year.replace(/\D/g,"");return Object(h.jsxs)("div",{onClick:function(){return w(e.Title)},className:"searchMovieItem",children:[Object(h.jsx)("span",{className:"searchMovieTitle",children:e.Title}),Object(h.jsxs)("span",{className:"searchMovieYear",children:[", ",e.Year]})]},"".concat(e.Title," ").concat(t))}))})]}),Object(h.jsx)("div",{className:"pageBar",children:function(){for(var e=[],t=1;t<=c;t++)e.push(t);return e}().map((function(t){return Object(h.jsx)("span",{className:t===r?"active pageOption":"pageOption",onClick:function(){return i(c=t),void e.search(c);var c},children:t},"page".concat(t))}))}),g&&Object(h.jsx)("div",{className:"selectedMovie",onClick:function(e){return"selectedMovie"===e.target.className&&R(!1)},children:Object(h.jsxs)("div",{className:"movieItem",children:[Object(h.jsx)("div",{className:"closeMovie",children:Object(h.jsx)("span",{className:"close",onClick:function(){return R(!1)},children:"x"})}),Object(h.jsxs)("div",{className:"moviePosterDetail",children:[f.Poster&&"N/A"!==f.Poster&&Object(h.jsx)("img",{src:f.Poster,alt:"Movie poster for ".concat(f.Title)}),Object(h.jsxs)("div",{className:"movieDetail",children:[Object(h.jsx)("div",{className:"title",children:f.Title}),f.Genre&&"N/A"!==f.Genre&&Object(h.jsx)("p",{className:"genre",children:f.Genre}),f.Released&&"N/A"!==f.Released&&Object(h.jsxs)("p",{className:"released",children:["Released: ",f.Released]}),f.Runtime&&"N/A"!==f.Runtime&&Object(h.jsx)("p",{className:"runtime",children:f.Runtime}),f.Director&&"N/A"!==f.Director&&Object(h.jsxs)("p",{className:"director",children:["Director: ",f.Director]}),f.Plot&&"N/A"!==f.Plot&&Object(h.jsx)("p",{className:"plot",children:f.Plot})]})]})]})})]})},d=c(2);var O=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),i=Object(j.a)(a,2),o=i[0],O=i[1],m=Object(s.useState)(!1),p=Object(j.a)(m,2),f=p[0],v=p[1],x=Object(s.useState)(1),N=Object(j.a)(x,2),g=N[0],R=N[1],w=Object(d.d)(),S=Object(r.b)(),k=Object(j.a)(S,2),y=k[0],M=(k[1],Object(s.useCallback)((function(e){function t(){return(t=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://www.omdbapi.com/?s=".concat(o,"&page=").concat(g,"&apikey=").concat("8953f6ce"),e.next=3,fetch(t).then((function(e){return e.json()})).then((function(e){return n(e),v(!0),w("search?q=".concat(o)),console.log("handle search"),e})).catch((function(e){return console.error("Error: ",e),Promise.reject(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e&&e.preventDefault(),function(){t.apply(this,arguments)}()}),[o,g]));return Object(s.useEffect)((function(){!f&&y&&y.get("q")&&""!=y.get("q")&&y.get("q")!==o&&O(y.get("q")),console.log("query ",o,y.get("q")),(y.get("q")||o)&&M()}),[o,y,f,M]),Object(h.jsxs)("div",{className:"searchMovies",children:[Object(h.jsx)("span",{className:"searchTitle",children:"Search for your favorite movies!"}),Object(h.jsx)("form",{onSubmit:M,children:Object(h.jsxs)("div",{className:"searchBar",children:[Object(h.jsx)("input",{type:"search",id:"movieInput",value:o,className:"searchInput",placeholder:"Enter movie title...",onChange:function(e){return O(e.target.value)},required:!0}),Object(h.jsx)("span",{className:"searchIcon",onClick:M,children:"\ud83d\udd0d"})]})}),f&&Object(h.jsx)(b,{data:c,search:function(e){return function(e){R(e)}(e)}})]},"searchMovies")};c(38);function m(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("a",{className:"home",href:"/",children:"\ud83c\udfac"}),Object(h.jsx)(O,{}),Object(h.jsx)("span",{className:"featuredMovies",children:"Featured movies coming soon..."})]})}var p={"/":function(){return Object(h.jsx)(m,{})},"/search":function(){return Object(h.jsx)(O,{})}};var f=function(){return Object(i.useRoutes)(p),Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(r.a,{children:Object(h.jsx)(m,{})})})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,40)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),s(e),n(e),a(e),r(e)}))};a.a.render(Object(h.jsx)(f,{}),document.getElementById("root")),v()}},[[39,1,2]]]);
//# sourceMappingURL=main.7b01ebf7.chunk.js.map